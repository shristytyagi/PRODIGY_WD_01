<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stopwatch</title>
<style>
  .stopwatch {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
    padding: 20px;
  }
  #time {
    font-size: 2em;
    margin-bottom: 20px;
  }
  button {
    font-size: 1em;
    padding: 10px;
    margin: 5px;
  }
</style>
</head>
<body>
<div class="stopwatch">
  <div id="time">00:00:00</div>
  <button id="startStop">Start</button>
  <button id="lap">Lap</button>
  <button id="reset">Reset</button>
  <ul id="laps"></ul>
</div>

<script>
let startTime;
let updatedTime;
let difference;
let tInterval;
let running = false;
let lapNumber = 0;
let timeDisplay = document.getElementById('time');
let startStopButton = document.getElementById('startStop');
let lapButton = document.getElementById('lap');
let resetButton = document.getElementById('reset');
let lapsContainer = document.getElementById('laps');

function startStop(){
  if(!running){
    startTime = new Date().getTime();
    tInterval = setInterval(getShowTime, 1);
    running = true;
    startStopButton.textContent = 'Pause';
  } else {
    clearInterval(tInterval);
    running = false;
    startStopButton.textContent = 'Resume';
  }
}

function lap(){
  if(running){
    let li = document.createElement('li');
    li.innerText = 'Lap ' + (++lapNumber) + ': ' + timeDisplay.innerText;
    lapsContainer.appendChild(li);
  }
}

function reset(){
  clearInterval(tInterval);
  running = false;
  startTime = null;
  lapNumber = 0;
  timeDisplay.innerText = '00:00:00';
  lapsContainer.innerHTML = '';
  startStopButton.textContent = 'Start';
}

function getShowTime(){
  updatedTime = new Date().getTime();
  difference =  updatedTime - startTime;
  let hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  let minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
  let seconds = Math.floor((difference % (1000 * 60)) / 1000);
  let milliseconds = Math.floor((difference % (1000 * 60)) / 100);
  hours = (hours < 10) ? "0" + hours : hours;
  minutes = (minutes < 10) ? "0" + minutes : minutes;
  seconds = (seconds < 10) ? "0" + seconds : seconds;
  timeDisplay.innerText = hours + ':' + minutes + ':' + seconds;
}

startStopButton.addEventListener('click', startStop);
lapButton.addEventListener('click', lap);
resetButton.addEventListener('click', reset);
</script>
</body>
</html>
